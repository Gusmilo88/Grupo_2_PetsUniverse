<!DOCTYPE html>
<html lang="en">
    <%- include('./partials/head')%>
<body class="edit__body">
    
    <%- include('./partials/header')%>

    <main class="edit__main">
        <div class="edit__main__div">
            <h3>Agregar Producto:</h3>
            <form method="POST"  enctype="multipart/form-data" id="form-product-create">
                <div class="edit__main__div--info">
                    <div class="edit__div__div--2">
                        <label for="name">Nombre del producto:</label>
                        <input type="text" id="name" name="name" value="" autofocus>
                        <p class="errorInput" id="nameError"></p>
                    </div>
                    <div class="edit__div__div--2">
                        <label for="description">Descripción:</label>
                        <textarea id="description" name="description" value=""  min="10" max="100" required> </textarea>
                        <p class="errorInput" id="descriptionError"></p>
                    </div>
                    <div class="edit__div__div">
                        <div class="edit__div__div--2">
                            <label for="category">Categoría:</label>
                            <select name="category" id="category" value="">
                                <option value="" selected hidden>Seleccione...</option>
                                <% categories.forEach(({name, id}) => { %>
                                 <option value="<%= id %>" <%= locals.old && old.category && old.category === name ? 'selected' : null %>><%= name %></option>
                                <% }) %>
                                
                            </select>
                            <p class="errorInput" id="categoryError"></p>
                        </div>
                        <div class="edit__div__div--2">
                            <label for="productType">Tipo de producto:</label>
                            <select name="productType" id="productType">
                                <option value="" selected hidden>Seleccione...</option>
                                <% productoTipo.forEach(({name, id}) => { %>
                                 <option value="<%= id %>" <%= locals.old && old.productType && old.productType === name ? 'selected' : null %>><%= name %></option>
                                <% }) %>
                                
                            </select>
                            <p class="errorInput" id="productTypeError"></p>
                        </div> 
                    </div>
                    <div class="edit__div__div">
                       <div class="edit__div__div--2">
                            <label for="price">Precio:</label>
                            <input type="number" id="price" name="price" value="">
                            <p class="errorInput" id="priceError"></p>
                            
                        </div>
                        
                        <div class="edit__div__div--2">
                            <label for="weight">Descuento:</label>
                            <input type="number" id="discount" name="discount" value="">
                            <p class="errorInput" id="discountError"></p>
                        </div> 
                        <div class="edit__div__div--2">
                            <label for="weight">Peso:</label>
                            <input type="number" id="weight" name="weight" value="">
                            <p class="errorInput" id="weightError"></p>
                        </div> 
                        <div class="edit__div__div--2">
                            <label for="stock">Stock:</label>
                            <input type="number" id="stock" name="stock" value="">
                            <p class="errorInput" id="stockError"></p>
                        </div> 
                    </div>
                    <div class="edit__div__div">
                       <div class="edit__div__div--2">
                            <label for="images">Imagen:</label>
                            <input type="file" class="form-image" id="images" name="images" multiple value="">
                            <p class="errorInput" id="imagesError"></p>
                        </div>
                    </div>
                <div class="edit__div__div--button">
                    <div class="edit__main__div--button">
                        <button onclick="window.location.href='/productEdit'">Cancelar cambios</button>
                    </div>
                    <div class="edit__main__div--button">
                        <button type="submit">Guardar cambios</button>
                    </div> 
                </div>    
                
            </form>
        </div>
    </main>
    <%- include('./partials/footer')%>

    

    <%- include('./partials/scripts')%>


    <script src="/javascripts/productCreate.js"></script>

</body>
</html>
